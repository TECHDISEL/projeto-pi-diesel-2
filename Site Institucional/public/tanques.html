<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tanques</title>
    <link rel="icon" href="../HomePage/Images/logo_vetorizada.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="/css/dashboard.css">
</head>

<body onload="exibirTanques()">
    <div class="container">
        <div class="header-main">
            <header class="header">
                <div class="menu-icon" onclick="abrirMenuLateral()">
                    <span class="material-symbols-outlined">
                        menu
                    </span>
                </div>

                <div class="header-left">
                </div>

                <div class="header-right">
                    <span class="material-symbols-outlined">
                        account_circle
                    </span>
                </div>
            </header>

            <main class="main">
                <div class="main-title">
                    <p class="font-weight-bold"> <b>Visão Geral<span< /p>
                </div>

                <div class="metrica">
                    <div class="regua">
                        <div class="estado normal">NORMAL</div>
                        <div class="estado alerta">ALERTA</div>
                        <div class="estado critico">CRÍTICO</div>
                    </div>
                    <div class="porcentagem">
                        <h4>X % NÍVEL DE DIESEL OK</h4>
                        <h4>Y % NÍVEL IDEAL PARA REABASTECER</h4>
                        <h4>Z % RISCO DE FALTA DE DIESEL</h4>
                    </div>
                </div>

                <div>
                    <div class="main-title">
                        <p class="font-weight-bold"> <b> Tanques monitorados <span< /p>
                    </div>
                    <div class="main-cards" id="cards-tanques"></div>
                </div>
        </div>
        <aside id="sidebar">
            <div class="sidebar-title">
                <div class="sidebar-brand">
                    <img src="./assets/img/logo_vetorizada.png" style="width: 25px;">
                    <p style="color: #3d6e60;">Tech Diesel</p>
                </div>
                <span class="material-symbols-outlined" onclick="fecharMenuLateral()">
                    close
                </span>
            </div>

            <ul class="sidebar-list">
                <li class="sidebar-list-item">
                    <span class="material-symbols-outlined">
                        check_box
                    </span> Tanques
                </li>
                <li class="sidebar-list-item">
                    <span class="material-symbols-outlined">
                        space_dashboard
                    </span> Dashboard
                </li>
                <li class="sidebar-list-item">
                    <span class="material-symbols-outlined">
                        history
                    </span> Registros
                </li>
                <li class="sidebar-list-item">
                    <span class="material-symbols-outlined">
                        construction
                    </span> Métricas
                </li>
                <li class="sidebar-list-item" onclick="window.location.href='./index.html';">
                    <span class="material-symbols-outlined">
                        logout
                    </span> Sair
                </li>
            </ul>
        </aside>
    </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.1.0"></script>
<script src="js/dash.js"></script>
<script data-jsd-embedded data-key="9aab1cd8-c01a-4fb3-87f8-b83dbfa263b6"
    data-base-url="https://jsd-widget.atlassian.com" src="https://jsd-widget.atlassian.com/assets/embed.js"></script>

</html>

<script>

    function exibirTanques() {

        JSON.parse(sessionStorage.TANQUES).forEach(item => {
            document.getElementById("cards-tanques").innerHTML += `
                <div class="card" onclick="retornarTanque(${item.idTanque})" style="cursor: pointer;" >
                    <div class="card-inner">
                        <p class="text-primary"> Tanque ${item.idTanque} </p>
                        <div class="card-content">
                            <span class="text-primary font-weight-bold"> <i class="fa fa-gas-pump"></i> </span>
                        </div>
                            <p class="text-primary"> ${item.setor} </p>
                        </div>
                </div>`
        });
    }

    function retornarTanque(idTanque) {
        sessionStorage.ID_TANQUE_SELECIONADO = idTanque;
        window.location = "./dashboard.html";
    }

</script>